# jce 编码

https://blog.csdn.net/jiange_zh/article/details/86562232

# 编码类型表





# 编码方案



# 注意
float64 不能像 float32 那样根据范围优化，即如果在  float32 范围里就存为 float32，那样会导致转换回来会失真，所以直接写 float64 即可



长度字段的优化？拿一个字节出来表示长度字段：
最高位的 0、1 表示后面长度字段用多少位来表示:
高位 0 用该字节后 7 位来表示长度，0<=length<=127
高位 1 用后面再取 3 字节，一共 31 位来表示长度 128<=length<=2147483648 (足够)


上面只是一种表示长度的方式，另一种是直接在类型字段的时候就划分，即类似于现在 string 的设计
直接 type 就表示长度字段用几位来表示

```
|--------h--e--a--d------------|----------不一定有------|-------|
| type(4b) |  tag(4b or 4b+1B) |  length 的长度| length |  data |

```
